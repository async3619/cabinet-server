{"$schema":"https://json-schema.org/draft/2020-12/schema","description":"The application's main configuration schema.","type":"object","properties":{"attachment":{"type":"object","properties":{"downloadThrottle":{"type":"object","properties":{"download":{"type":"number","minimum":0},"failover":{"type":"number","minimum":0}},"required":["download","failover"],"additionalProperties":false},"hashCheck":{"type":"boolean"}},"required":["downloadThrottle"],"additionalProperties":false},"crawling":{"type":"object","properties":{"deleteObsolete":{"type":"boolean"},"interval":{"anyOf":[{"type":"number","exclusiveMinimum":0},{"type":"string","minLength":1}]}},"required":["interval"],"additionalProperties":false},"storage":{"anyOf":[{"type":"object","properties":{"type":{"type":"string","const":"filesystem"},"filePath":{"type":"string","minLength":1},"thumbnailPath":{"type":"string","minLength":1}},"required":["type","filePath","thumbnailPath"],"additionalProperties":false},{"type":"object","properties":{"type":{"type":"string","const":"s3"},"bypassExistsCheck":{"type":"boolean"},"credentials":{"type":"object","properties":{"accessKeyId":{"type":"string","minLength":1},"secretAccessKey":{"type":"string","minLength":1}},"required":["accessKeyId","secretAccessKey"],"additionalProperties":false},"endpoint":{"type":"string","format":"uri"},"ensureBucketExists":{"type":"boolean"},"fileBucketUri":{"type":"string","minLength":1},"region":{"type":"string"},"thumbnailBucketUri":{"type":"string","minLength":1}},"required":["type","fileBucketUri","thumbnailBucketUri"],"additionalProperties":false}]},"watchers":{"minItems":1,"type":"array","items":{"anyOf":[{"type":"object","properties":{"name":{"type":"string","minLength":1},"type":{"type":"string","const":"four-chan"},"cloudflare":{"type":"object","properties":{"bm":{"type":"string"},"clearance":{"type":"string","minLength":1}},"required":["clearance"],"additionalProperties":false},"endpoint":{"type":"string","format":"uri"},"entries":{"minItems":1,"type":"array","items":{"type":"object","properties":{"boards":{"minItems":1,"type":"array","items":{"type":"string","minLength":1}},"queries":{"minItems":1,"type":"array","items":{"anyOf":[{"type":"object","properties":{"exclude":{"type":"boolean"},"query":{"type":"string","minLength":1},"caseInsensitive":{"type":"boolean"},"type":{"type":"string","const":"text"}},"required":["query","type"],"additionalProperties":false},{"type":"object","properties":{"exclude":{"type":"boolean"},"query":{"type":"string","minLength":1},"dotAll":{"type":"boolean"},"ignoreCase":{"type":"boolean"},"multiline":{"type":"boolean"},"type":{"type":"string","const":"regex"},"unicode":{"type":"boolean"}},"required":["query","type"],"additionalProperties":false}]}},"searchArchive":{"type":"boolean"},"target":{"type":"string","enum":["title","content","both"]}},"required":["boards","queries","target"],"additionalProperties":false}}},"required":["name","type","endpoint","entries"],"additionalProperties":false}]}}},"required":["attachment","crawling","storage","watchers"],"additionalProperties":false}
